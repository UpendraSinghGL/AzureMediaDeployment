(function (Media) {

	Media.resetPassword = function (executionContext) {

		//Which object is affected
		var entityId = executionContext.data.entity.getId().replace('{', '').replace('}', '');
		var entityname = executionContext.getAttribute('media_name').getValue();
		
		var task = {
			"subject": "Requested for reset password",
			"regardingobjectid_media_vendor@odata.bind": `/media_vendors(${entityId})`
		};
		Xrm.WebApi.createRecord("task", task).then(
			 function success(result) {
			 // Show Account GUID
			 Xrm.Utility.alertDialog("Vendor password reset request saved successfully", null);
			 },
			 function (error) {
			 // Show Error
			 Xrm.Utility.alertDialog("Error :" + error.message, null);
			 }
			 );
	}
}(window.Media = window.Media || {}))